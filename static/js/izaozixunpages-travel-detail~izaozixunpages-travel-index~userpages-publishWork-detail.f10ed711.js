(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["izaozixunpages-travel-detail~izaozixunpages-travel-index~userpages-publishWork-detail"],{"0559":function(e,t,i){"use strict";i.r(t);var a=i("9ed4"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"2dc2":function(e,t,i){"use strict";var a=i("34d9"),n=i.n(a);n.a},"329d":function(e,t,i){"use strict";i.r(t);var a=i("4388"),n=i("e164");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("3690");var s=i("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"3409a309",null,!1,a["a"],void 0);t["default"]=r.exports},"34d9":function(e,t,i){var a=i("5abf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("51df3210",a,!0,{sourceMap:!1,shadowMode:!1})},3690:function(e,t,i){"use strict";var a=i("a991"),n=i.n(a);n.a},4388:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uniIcons:i("622c").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"media-item",style:{width:e.itemWidth,height:e.itemHeight,margin:e.margin}},[i("v-uni-view",{staticClass:"media-wrapper",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick(e.mediaSrc,e.isVideo)}}},[e.isVideo?i("v-uni-view",{class:e.showStyle?"video-cover radius":"video-cover"},[i("v-uni-image",{staticClass:"cover-image",attrs:{src:"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/video.png",mode:"aspectFill"}})],1):i("v-uni-image",{class:e.showStyle?"media-content radius":"media-content",attrs:{src:e.mediaSrc,mode:"aspectFill"}})],1),e.showDeleteButton?i("v-uni-view",{staticClass:"delete-btn",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.removeMedia(e.index)}}},[i("uni-icons",{attrs:{type:"closeempty",size:"30rpx",color:"#fff"}})],1):e._e()],1)},o=[]},"4ad3":function(e,t,i){"use strict";i.r(t);var a=i("f80b"),n=i("0559");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("78d6");var s=i("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7e082b62",null,!1,a["a"],void 0);t["default"]=r.exports},"4c7f":function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,".media-item[data-v-3409a309]{position:relative}.media-wrapper[data-v-3409a309]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.radius[data-v-3409a309]{border-radius:%?16?%}.video-cover[data-v-3409a309]{width:100%;height:100%;position:relative;overflow:hidden;background-color:hsla(0,0%,57.6%,.6);display:flex;align-items:center;justify-content:center}.cover-image[data-v-3409a309]{width:%?100?%!important;height:%?100?%!important}.play-icon[data-v-3409a309]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.media-content[data-v-3409a309]{width:100%;height:100%;object-fit:cover}.delete-btn[data-v-3409a309]{position:absolute;top:%?-15?%;right:%?-15?%;width:%?32?%;height:%?32?%;background-color:rgba(0,0,0,.6);border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:2}",""]),e.exports=t},"5abf":function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.waterfall-container[data-v-7ee7339b]{padding:%?20?%}.waterfall-columns[data-v-7ee7339b]{display:flex;justify-content:space-between}.column[data-v-7ee7339b]{width:49%;display:flex;flex-direction:column;gap:%?20?%}.empty-data[data-v-7ee7339b]{text-align:center;margin-top:%?50?%;color:#999;font-size:%?32?%}',""]),e.exports=t},"78d6":function(e,t,i){"use strict";var a=i("e649"),n=i.n(a);n.a},9815:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"waterfall-container"},[i("v-uni-view",{staticClass:"waterfall-columns"},[i("v-uni-view",{staticClass:"column left-column"},[e._l(e.leftList,(function(t,a){return[i("CardItem",{key:a+"_0",attrs:{item:t,showDeleteButton:e.showDeleteButton,showViews:e.showViews},on:{like:function(t){arguments[0]=t=e.$handleEvent(t),e.handleLike.apply(void 0,arguments)},views:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSetViews.apply(void 0,arguments)}}})]}))],2),i("v-uni-view",{staticClass:"column right-column"},[e._l(e.rightList,(function(t,a){return[i("CardItem",{key:a+"_0",attrs:{item:t,showDeleteButton:e.showDeleteButton,showViews:e.showViews},on:{like:function(t){arguments[0]=t=e.$handleEvent(t),e.handleLike.apply(void 0,arguments)},views:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSetViews.apply(void 0,arguments)}}})]}))],2)],1),0!==e.spots.length||e.loading?e._e():i("v-uni-view",{staticClass:"empty-data"},[e._v("暂无数据")]),e.loading?i("v-uni-view",{staticClass:"loading"},[e._v("加载中...")]):e._e()],1)},n=[]},"9ed4":function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("9b1b")),o=a(i("329d")),s={components:{EnhancedMediaItem:o.default},props:{item:{type:Object,required:!0},showDeleteButton:{type:Boolean,default:!1},showViews:{type:Boolean,default:!1}},data:function(){return{width:"350rpx",height:"350rpx"}},methods:{handleSetViews:function(){this.showViews?this.$emit("views",this.item):this.$store.commit("UPDATE_VIEWS",{mediaId:this.item.mediaId,workId:this.item.workId})},toggleLike:function(){var e=!this.item.isLiked,t=e?this.item.likes+1:Math.max(this.item.likes-1,0),i=(0,n.default)((0,n.default)({},this.item),{},{isLiked:e,likes:t});this.$emit("like",i)}}};t.default=s},a2dc:function(e,t,i){"use strict";i.r(t);var a=i("9815"),n=i("d67e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("2dc2");var s=i("828b"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7ee7339b",null,!1,a["a"],void 0);t["default"]=r.exports},a991:function(e,t,i){var a=i("4c7f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("6bc3ab3a",a,!0,{sourceMap:!1,shadowMode:!1})},c21d:function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("8f71"),i("bf0f"),i("bd06");var n=a(i("4ad3")),o={components:{CardItem:n.default},props:{spots:{type:Array,required:!0,default:function(){return[]}},showDeleteButton:{type:Boolean,default:!1},showViews:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{leftList:function(){return this.spots.filter((function(e,t){return t%2===0}))},rightList:function(){return this.spots.filter((function(e,t){return t%2===1}))}},methods:{handleSetViews:function(e){this.showViews&&this.$emit("views",e)},handleLike:function(e){if(this.showViews)this.$emit("like",e);else{var t=this.spots.findIndex((function(t){return t.mediaId===e.mediaId}));t>-1&&(this.$set(this.spots,t,e),this.$store.dispatch("updateWorkLike",{mediaId:e.mediaId,isLiked:e.isLiked,likes:e.likes}))}}}};t.default=o},d67e:function(e,t,i){"use strict";i.r(t);var a=i("c21d"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},de53:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.card[data-v-7e082b62]{background-color:#fff;border-radius:%?10?%;overflow:hidden;box-shadow:0 %?2?% %?6?% rgba(0,0,0,.1);margin-bottom:%?10?%}.media-container[data-v-7e082b62]{position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.video-play[data-v-7e082b62]{position:absolute;top:%?18?%;right:%?10?%;color:#fff;font-size:%?24?%;padding:%?4?% %?12?%;border-radius:%?22?%;display:flex;align-items:center;justify-content:end}.cover-image[data-v-7e082b62]{width:%?30?%;height:%?30?%}.view-count[data-v-7e082b62]{position:absolute;bottom:%?28?%;left:%?10?%;background-color:rgba(0,0,0,.41);color:#fff;font-size:%?22?%;padding:%?4?% %?12?%;border-radius:%?22?%;display:flex;justify-content:center;gap:%?4?%}.card-info[data-v-7e082b62]{padding:%?20?%}.title[data-v-7e082b62]{font-weight:700;font-size:%?28?%;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;margin-bottom:%?12?%}.author-row[data-v-7e082b62]{display:flex;align-items:center;justify-content:space-between;margin-top:%?20?%}.author-info[data-v-7e082b62]{display:flex;align-items:center;gap:%?10?%}.author-name[data-v-7e082b62]{font-size:%?22?%;color:#818181}.avatar[data-v-7e082b62]{width:24px;height:24px;border-radius:50%}.like-count[data-v-7e082b62]{display:flex;align-items:baseline;color:#818181;gap:%?4?%}.like-count uni-text[data-v-7e082b62]{font-size:%?28?%}',""]),e.exports=t},e164:function(e,t,i){"use strict";i.r(t);var a=i("f839"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},e649:function(e,t,i){var a=i("de53");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("967d").default;n("9418b366",a,!0,{sourceMap:!1,shadowMode:!1})},f80b:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uniIcons:i("622c").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"card"},[i("v-uni-view",{staticClass:"media-container"},[i("EnhancedMediaItem",{attrs:{mediaSrc:"image"===e.item.type?e.item.imageUrl:e.item.videoUrl,showDeleteButton:e.showDeleteButton,width:e.width,height:e.height,isVideo:"video"===e.item.type},on:{setViews:function(t){arguments[0]=t=e.$handleEvent(t),e.handleSetViews.apply(void 0,arguments)}}}),"video"===e.item.type?i("v-uni-view",{staticClass:"video-play"},[i("v-uni-image",{staticClass:"cover-image",attrs:{src:"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/video_cover.png",mode:"aspectFill"}})],1):e._e(),e.showViews&&e.item.views>0?i("v-uni-view",{staticClass:"view-count"},[i("uni-icons",{attrs:{type:"eye",size:"24rpx",color:"#fff"}}),i("v-uni-text",{staticClass:"view-text"},[e._v(e._s(e.item.views))])],1):e._e()],1),i("v-uni-view",{staticClass:"card-info"},[i("v-uni-text",{staticClass:"title"},[e._v(e._s(e.item.title))]),i("v-uni-view",{staticClass:"author-row"},[i("v-uni-view",{staticClass:"author-info"},[i("v-uni-image",{staticClass:"avatar",attrs:{src:e.item.avatar}}),i("v-uni-text",{staticClass:"author-name"},[e._v(e._s(e.item.author))])],1),i("v-uni-view",{staticClass:"like-count",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.toggleLike.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:e.item.isLiked?"heart-filled":"heart",size:"28rpx",color:e.item.isLiked?"#e74c3c":"#818181"}}),i("v-uni-text",[e._v(e._s(e.item.likes))])],1)],1)],1)],1)},o=[]},f839:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa"),i("5c47"),i("0506");var a={name:"EnhancedMediaItem",props:{margin:{type:String,default:"0rpx"},mediaSrc:{type:String,required:!0},isVideo:{type:Boolean,default:!1},index:{type:Number,required:!1},width:{type:String,default:"160rpx"},height:{type:String,default:"160rpx"},showDeleteButton:{type:Boolean,default:!1},showStyle:{type:Boolean,default:!1}},computed:{itemWidth:function(){return"number"===typeof this.width?"".concat(this.width,"rpx"):this.width},itemHeight:function(){return"number"===typeof this.height?"".concat(this.height,"rpx"):this.height}},methods:{handleClick:function(e,t){this.$emit("setViews"),null==t&&(t=!this.isImage(e)),t?this.playVideo(e):this.previewMedia(e)},isImage:function(e){return/\.(jpg|jpeg|png|gif)$/i.test(e)},previewMedia:function(e){uni.previewImage({current:e,urls:[e]})},playVideo:function(e){uni.navigateTo({url:"/pages/videoPlayer/videoPlayer?src=".concat(encodeURIComponent(e))})},removeMedia:function(e){this.$emit("remove",e)}}};t.default=a}}]);