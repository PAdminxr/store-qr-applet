(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chatMate-index"],{"3f9c":function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("0c26"),i("aa9c"),i("4626"),i("5ac7"),i("5c47");uni.getRecorderManager(),uni.createInnerAudioContext();var n={data:function(){return{voice_index:0,show_voice:!1,show_cancel_voice:!1,faqList:[{title:"系统一直闪退"},{title:"发布作品显示异常"},{title:"平台商家线下恶意涨价"},{title:"订单商品存在质量问题如何退款？"}],chatRecords:[{type:"user",message:"你好"},{type:"assistant",message:"您好！我是您的智能助手，有什么可以帮您？"}],inputMessage:"",scrollTop:0,statusBarHeight:0,windowHeight:0,scrollAnimation:!1,index:0,apply_time:"",ly_time:""}},mounted:function(){var e=this;uni.getSystemInfo({success:function(t){e.statusBarHeight=t.statusBarHeight}})},methods:{goBack:function(){uni.navigateBack()},changeFAQ:function(){console.log("更换常见问题");var e=Date.parse(new Date);this.apply_time&&e-this.apply_time<1e3?uni.showToast({title:"您的操作过于频繁",icon:"none"}):(this.index++,this.index%2==0?this.faqList=[{title:"系统一直闪退"},{title:"发布作品显示异常"},{title:"平台商家线下恶意涨价"},{title:"订单商品存在质量问题如何退款？"}]:this.faqList=[{title:"如何申请退款？"},{title:"如何查看订单状态？"},{title:"如何联系客服？"},{title:"如何取消订单？"}],this.apply_time=e)},navigateToDetail:function(e){uni.showToast({title:"客官~ 该功能暂未开放哦~",icon:"none"}),console.log("跳转到详细页面:",e.title)},sendMessage:function(){var e=this,t=this.inputMessage.trim();t&&(this.chatRecords.push({type:"user",message:t}),this.inputMessage="",setTimeout((function(){var i=e.generateReply(t);e.chatRecords.push({type:"assistant",message:i}),e.$nextTick((function(){e.setScrollTop(!0)}))}),100))},addsendMessage:function(){uni.showToast({title:"客官~ 该功能暂未开放哦~",icon:"none"})},generateReply:function(e){return e.includes("你好")?"您好~ 很高兴为您服务！":e.includes("帮助")?"您可以直接告诉我您需要什么帮助哦！":e.includes("订单")?"关于订单的问题，请提供订单号以便我为您查询。":e.includes("退款")?"请前往【我的订单】中申请退款，如有疑问可继续提问。":"抱歉，我不太明白您的意思，请尝试更清晰地描述您的问题。"},toggleVoiceInput:function(){console.log("语音输入模式切换")},setScrollTop:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scrollAnimation=t;var i=wx.createSelectorQuery();i.select("#chat-lists").boundingClientRect((function(t){var i=t.height;e.scrollTop+=i+300,console.log(e.scrollTop)})).exec()},onLongTapVoiceBtn:function(e){this.show_voice=!0,this.show_cancel_voice=!1,this.voice_index++},onTouchMoveVoicBtn:function(e){0!=this.show_voice&&(this.show_cancel_voice=!0,this.show_voice=!1)},onTouchEndVoiceBtn:function(e){var t=Date.parse(new Date);this.ly_time&&t-this.ly_time<3e3?uni.showToast({title:"您的操作过于频繁",icon:"none"}):0==this.show_voice&&0==this.show_cancel_voice&&this.voice_index<1?uni.showToast({title:"长按体验录音功能",icon:"none"}):(this.show_cancel_voice=!1,this.show_voice=!1,this.ly_time=t)}}};t.default=n},"4b48":function(e,t,i){"use strict";i.r(t);var n=i("3f9c"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},5912:function(e,t,i){var n=i("e017");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("967d").default;a("0e5f747d",n,!0,{sourceMap:!1,shadowMode:!1})},a0bf:function(e,t,i){"use strict";var n=i("5912"),a=i.n(n);a.a},b447:function(e,t,i){"use strict";i.r(t);var n=i("ed6e"),a=i("4b48");for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("a0bf");var o=i("828b"),c=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"f38c5e6e",null,!1,n["a"],void 0);t["default"]=c.exports},e017:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.container[data-v-f38c5e6e]{display:flex;flex-direction:column;background:linear-gradient(135deg,#7fa0f4,#bdcdf6,#f0f2f8);height:100vh;overflow:hidden}.content[data-v-f38c5e6e]{height:calc(100vh - %?200?%);padding:%?20?%}.custom-nav[data-v-f38c5e6e]{position:fixed;top:0;left:0;right:0;z-index:100}.nav-content[data-v-f38c5e6e]{display:flex;justify-content:space-between;align-items:center;padding:%?10?%;box-sizing:border-box}.nav-left[data-v-f38c5e6e],\n.nav-right[data-v-f38c5e6e]{display:flex;align-items:center}.nav-title[data-v-f38c5e6e]{font-size:%?36?%;font-weight:700;padding-right:6%}.header[data-v-f38c5e6e]{display:flex;align-items:center;margin-top:%?150?%;margin-bottom:%?20?%;justify-content:center}.robot-icon[data-v-f38c5e6e]{width:%?140?%;height:%?140?%;margin-right:%?20?%}.greeting[data-v-f38c5e6e]{display:flex;flex-direction:column;color:#203c7e;font-size:%?36?%;font-weight:700;letter-spacing:.05em}.faq-container[data-v-f38c5e6e]{background-color:#deeafd;border-radius:%?20?%;padding:%?20?%;margin-bottom:%?20?%}.faq-header[data-v-f38c5e6e]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?20?%}.faq-header uni-view[data-v-f38c5e6e]{display:flex;align-items:center}.faq-title[data-v-f38c5e6e]{font-size:%?32?%;color:#203c7e;margin-left:%?10?%;font-weight:700}.faq-refreshempty[data-v-f38c5e6e]{font-size:%?26?%;font-weight:400}.change-btn[data-v-f38c5e6e]{font-size:%?28?%;color:#333;background-color:initial;border:none}.faq-list .faq-item[data-v-f38c5e6e]{background-color:#f0f6ff;border-radius:%?50?%;padding:%?20?%;margin-bottom:%?20?%;display:flex;align-items:center;justify-content:space-between;font-size:%?28?%;color:#333}.scroll[data-v-f38c5e6e]{width:100%;height:calc(100vh - %?1030?%);box-sizing:border-box}.bubble[data-v-f38c5e6e]{display:inline-block;padding:%?20?%;min-width:10%;font-size:%?28?%;line-height:1.4;word-break:break-all;max-width:90%}.user-bubble[data-v-f38c5e6e]{background-color:#4a90e2;color:#fff;border-top-left-radius:%?20?%;border-bottom-right-radius:%?40?%;border-bottom-left-radius:%?20?%}.assistant-bubble[data-v-f38c5e6e]{background-color:hsla(0,0%,100%,.8);color:#333;border-top-right-radius:%?20?%;border-bottom-right-radius:%?20?%;border-bottom-left-radius:%?40?%}.user-message-item[data-v-f38c5e6e]{display:flex;justify-content:flex-end;margin-bottom:%?20?%}.assistant-message-item[data-v-f38c5e6e]{display:flex;justify-content:flex-start;margin-bottom:%?20?%}.input-bar-container[data-v-f38c5e6e]{position:fixed;left:0;right:0;display:flex;align-items:center;z-index:99;padding:%?10?%;box-sizing:border-box}.mic-section[data-v-f38c5e6e],\n.chat-input[data-v-f38c5e6e],\n.send-section[data-v-f38c5e6e]{display:flex;align-items:center;height:%?80?%;\n  /* 统一高度 */padding:0 %?20?%;background-color:#fff;\n  /* 各自的背景色 */border-radius:%?50?%;margin-right:%?10?%;z-index:100}.mic-section[data-v-f38c5e6e],\n.send-section[data-v-f38c5e6e]{width:%?80?%;justify-content:center}.chat-input[data-v-f38c5e6e]{flex:1;padding:0 %?20?%;font-size:%?28?%;background-color:#fff;\n  /* 输入框背景色 */border-radius:%?50?%}.voiced[data-v-f38c5e6e]{width:%?240?%;padding:%?24?%;text-align:center;box-sizing:border-box;height:%?240?%;position:fixed;z-index:-1;left:0;right:0;bottom:%?160?%;margin:auto;border-radius:%?20?%;background-color:rgba(0,0,0,.5);opacity:0;transition:.26s}.voiced.show[data-v-f38c5e6e]{opacity:1;z-index:10}.voiced .tip[data-v-f38c5e6e]{margin-top:20 rpx;height:%?30?%;line-height:%?30?%;text-align:center;font-size:%?22?%;color:#fff}.voice_img[data-v-f38c5e6e]{width:%?140?%}',""]),e.exports=t},ed6e:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var n={uniIcons:i("622c").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"custom-nav",style:{paddingTop:e.statusBarHeight+"px"}},[i("v-uni-view",{staticClass:"nav-content"},[i("v-uni-view",{staticClass:"nav-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goBack.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"back",size:"48rpx"}})],1),i("v-uni-view",{staticClass:"nav-title"},[e._v("AI助理")]),i("v-uni-view")],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"header",style:{paddingTop:e.statusBarHeight+"rpx"}},[i("v-uni-image",{staticClass:"robot-icon",attrs:{src:"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/robot.png"}}),i("v-uni-view",{staticClass:"greeting"},[i("v-uni-text",{staticClass:"title"},[e._v("Hi~ 我是小助理")]),i("v-uni-text",{staticClass:"subtitle"},[e._v("很高兴为您提供服务！")])],1)],1),i("v-uni-view",{staticClass:"faq-container"},[i("v-uni-view",{staticClass:"faq-header"},[i("v-uni-view",[i("uni-icons",{attrs:{type:"help-filled",size:"48rpx",color:"#203C7E"}}),i("v-uni-text",{staticClass:"faq-title"},[e._v("常见问题")])],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeFAQ.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"refreshempty",size:"28rpx",color:"#203C7E"}}),i("v-uni-text",{staticClass:"faq-title faq-refreshempty"},[e._v("换一批")])],1)],1),i("v-uni-view",{staticClass:"faq-list"},e._l(e.faqList,(function(t,n){return i("v-uni-view",{key:n,staticClass:"faq-item",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.navigateToDetail(t)}}},[e._v(e._s(t.title)),i("uni-icons",{attrs:{type:"arrowright",size:"32rpx",color:"#333"}})],1)})),1)],1),i("v-uni-scroll-view",{staticClass:"scroll",attrs:{"scroll-y":!0,"upper-threshold":20,"scroll-top":e.scrollTop,"scroll-with-animation":e.scrollAnimation},on:{touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.show_from=!1}}},e._l(e.chatRecords,(function(t,n){return i("v-uni-view",{key:n,class:["user"===t.type?"user-message-item":"assistant-message-item"],attrs:{id:"chat-lists"}},[i("v-uni-view",{class:["bubble","user"===t.type?"user-bubble":"assistant-bubble"]},[e._v(e._s(t.message))])],1)})),1),i("v-uni-view",{staticClass:"input-bar-container",style:{bottom:"40rpx"}},[i("v-uni-view",{staticClass:"mic-section",on:{touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchMoveVoicBtn.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.onTouchEndVoiceBtn.apply(void 0,arguments)},longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.onLongTapVoiceBtn.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"mic",size:"56rpx",color:"#333"}})],1),i("v-uni-input",{staticClass:"chat-input",attrs:{placeholder:"有什么问题尽管问我"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.sendMessage.apply(void 0,arguments)}},model:{value:e.inputMessage,callback:function(t){e.inputMessage=t},expression:"inputMessage"}}),i("v-uni-view",{staticClass:"send-section",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addsendMessage.apply(void 0,arguments)}}},[i("uni-icons",{attrs:{type:"plusempty",size:"56rpx",color:"#333"}})],1)],1)],1),i("v-uni-view",{staticClass:"voiced",class:{show:e.show_voice}},[i("v-uni-image",{staticClass:"voice_img",attrs:{mode:"widthFix",src:e.show_voice?"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/recorde.gif":"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/none.png"}}),i("v-uni-view",{staticClass:"tip"},[e._v("手指上滑取消发送")])],1),i("v-uni-view",{staticClass:"voiced",class:{show:e.show_cancel_voice}},[i("v-uni-image",{staticClass:"voice_img",attrs:{mode:"widthFix",src:"https://cdn.jsdelivr.net/gh/PAdminxr/store-qr-applet@main/static/images/quxiao.png"}}),i("v-uni-view",{staticClass:"tip"},[e._v("松开手指取消发送")])],1)],1)},s=[]}}]);