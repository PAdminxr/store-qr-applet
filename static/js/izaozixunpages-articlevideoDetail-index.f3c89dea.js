(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["izaozixunpages-articlevideoDetail-index"],{"04d4":function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var a={uniIcons:e("622c").default},n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"article-detail"},[e("v-uni-view",{staticClass:"article-header"},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(t.article.title))]),e("v-uni-view",{staticClass:"meta"},[e("v-uni-text",[t._v(t._s(t.article.date))]),e("v-uni-text",[t._v("浏览量"+t._s(t.article.views))])],1)],1),e("v-uni-video",{staticClass:"video-player",attrs:{src:t.article.videoSrc,controls:!0}}),e("v-uni-view",{staticClass:"article-content"},[e("v-uni-rich-text",{staticClass:"rich-text",attrs:{nodes:t.article.content}}),e("v-uni-view",{staticClass:"author"},[e("v-uni-text",[t._v("编辑：温腾")]),e("v-uni-text",[t._v("初审/终审：陆毅")])],1)],1),e("v-uni-view",{staticClass:"gary"}),e("v-uni-view",{staticClass:"comments-section"},[e("v-uni-text",{staticClass:"comments-title"},[t._v("评论 "+t._s(t.article.comments))]),e("v-uni-view",{staticClass:"comment"},t._l(t.comments,(function(i,a){return e("v-uni-view",{key:a},[e("v-uni-view",{staticClass:"comment-item"},[e("v-uni-image",{staticClass:"avatar",attrs:{src:i.avatar}}),e("v-uni-view",{staticClass:"comment-info"},[e("v-uni-label",{staticClass:"comment-author"},[t._v(t._s(i.author))]),e("v-uni-text",{staticClass:"comment-text"},[t._v(t._s(i.text))]),e("v-uni-text",{staticClass:"comment-time"},[t._v(t._s(t.formattedTime(i.time)))])],1)],1)],1)})),1)],1),e("v-uni-view",{staticClass:"footer"},[e("v-uni-view",{staticClass:"comment-input-container"},[e("v-uni-input",{staticClass:"comment-input",attrs:{placeholder:"我来说两句..."},on:{confirm:function(i){arguments[0]=i=t.$handleEvent(i),t.submitComment.apply(void 0,arguments)}},model:{value:t.commentText,callback:function(i){t.commentText=i},expression:"commentText"}}),e("v-uni-view",{staticClass:"interaction"},[e("v-uni-view",{staticClass:"interaction-item"},[e("uni-icons",{attrs:{type:"chat",size:"44rpx"}}),e("v-uni-text",[t._v(t._s(t.article.comments))])],1),e("v-uni-view",{staticClass:"interaction-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggleLike.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:t.article.isLiked?"heart-filled":"heart",size:"42rpx",color:t.article.isLiked?"#e74c3c":""}}),e("v-uni-text",[t._v(t._s(t.article.likes))])],1),e("v-uni-view",{staticClass:"interaction-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggleFavorite.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:t.article.isFavorite?"star-filled":"star",size:"44rpx",color:t.article.isFavorite?"#f1c40f":""}}),e("v-uni-text",[t._v(t._s(t.article.favorites))])],1),e("v-uni-view",{staticClass:"interaction-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.shareArticle.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{type:"redo",size:"44rpx"}}),e("v-uni-text",[t._v("分享")])],1)],1)],1)],1)],1)},o=[]},"18b5":function(t,i,e){"use strict";e.r(i);var a=e("4eff"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},4796:function(t,i,e){"use strict";e.r(i);var a=e("04d4"),n=e("18b5");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("c3e8");var s=e("828b"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"31516b03",null,!1,a["a"],void 0);i["default"]=c.exports},"4eff":function(t,i,e){"use strict";e("6a54");var a=e("f5bd").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("e966"),e("aa77"),e("bf0f"),e("2797"),e("0c26"),e("3efd");var n=a(e("d99d")),o={data:function(){return{articleId:null,commentText:"",article:{},comments:[],isLogin:!1}},onLoad:function(t){t.id&&(this.articleId=parseInt(t.id),this.getData())},mounted:function(){uni.showShareMenu({withSubtree:!0,menus:["shareAppMessage","shareTimeline"]}),this.$store.dispatch("loadFavoritesFromCache"),this.isFavoriteInCache(this.articleId);var t=this.$store.getters.getIsLogin||!1;this.isLogin=t},methods:{isFavoriteInCache:function(){var t=this,i=this.articleId,e=this.$store.getters.getFavorites,a=e.find((function(i){return i.articleId===t.articleId}));a&&(this.article.isFavorite=!0,this.updateViews(i))},getData:function(){var t=this.articleId;t&&(this.article=n.default.videoNews.find((function(i){return i.id===t})).article||{},this.comments=n.default.videoNews.find((function(i){return i.id===t})).comments||[])},updateViews:function(t){var i=this;n.default.videoNews.forEach((function(e){if(e.id===t)return e.views++,e.article.views++,void i.$store.dispatch("updateFavoriteView",{id:t,views:e.views})}))},formattedTime:function(t){return this.$utils.formatTimeAgo(t)},toggleComments:function(){},JumpLogin:function(){uni.navigateTo({url:"/pages/login/login"})},submitComment:function(){if(this.isLogin){if(this.commentText.trim()){var t=this.articleId,i=n.default.videoNews.find((function(i){return i.id===t}));i&&i.comments.unshift({id:Math.floor(999*Math.random())+1,author:"用户"+Math.floor(999*Math.random())+1,text:this.commentText,time:(new Date).toISOString(),avatar:"/static/images/avatar.png"}),this.commentText="",this.article.comments++}}else this.JumpLogin()},toggleLike:function(){if(this.isLogin){var t=this.articleId,i=n.default.videoNews.find((function(i){return i.id===t}));i&&(i.article.isLiked?(i.article.likes-=1,i.article.isLiked=!1):(i.article.likes+=1,i.article.isLiked=!0))}else this.JumpLogin()},toggleFavorite:function(){if(this.isLogin){var t=this.articleId,i=n.default.videoNews.find((function(i){return i.id===t}));if(i)if(i.article.isFavorite)i.article.favorites-=1,i.article.isFavorite=!1,this.$store.dispatch("deleteFavorite",t);else{i.article.favorites+=1,i.article.isFavorite=!0;var e={id:Math.floor(999*Math.random())+1,articleId:t,title:this.article.title,time:this.$utils.formatTime(new Date),image:this.article.imageUrl,views:this.article.views,timeAgo:this.article.date,type:"video",duration:this.article.duration};this.$store.dispatch("saveFavoritesToCache",e)}}else this.JumpLogin()},shareArticle:function(){this.isLogin?uni.showToast({title:"请点击右上角“...”按钮进行分享",icon:"none",duration:2e3}):this.JumpLogin()}},onShareAppMessage:function(){return{title:this.article.title,path:"/pages/article-detail/article-detail?id=123",imageUrl:this.article.imageUrl,success:function(){uni.showToast({title:"分享成功"})},fail:function(){uni.showToast({title:"分享失败",icon:"none"})}}}};i.default=o},9666:function(t,i,e){var a=e("c86c");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.article-detail[data-v-31516b03]{padding:%?40?%;background-color:#fff}.article-detail .article-header .title[data-v-31516b03]{font-size:%?40?%;font-weight:700;margin-bottom:10px}.article-detail .article-image[data-v-31516b03]{width:100%}.article-detail .article-header .meta[data-v-31516b03]{font-size:%?28?%;color:#888;margin:%?28?% %?0?%;display:flex;justify-content:flex-start;gap:%?40?%}.article-detail .video-player[data-v-31516b03]{width:100%;height:%?300?%;margin-bottom:20px}.article-detail .article-content[data-v-31516b03]{padding-bottom:%?20?%}.article-detail .author[data-v-31516b03]{padding-top:%?20?%;color:#adadad;font-size:%?28?%;display:flex;flex-direction:column;gap:%?20?%}.article-detail .rich-text[data-v-31516b03]{line-height:%?70?%}.article-detail .gary[data-v-31516b03]{width:1904px!important;height:%?10?%;background-color:#eee;margin-left:-500px}.article-detail .comments-section[data-v-31516b03]{border-top:1px solid #eee;padding:%?20?% 0}.article-detail .comments-section .comment[data-v-31516b03]{padding-bottom:%?50?%}.article-detail .comments-section .comments-title[data-v-31516b03]{font-size:%?32?%;font-weight:700;margin-bottom:%?20?%;display:block}.article-detail .comments-section .comment-item[data-v-31516b03]{display:flex;margin-bottom:%?20?%}.article-detail .comments-section .comment-item .avatar[data-v-31516b03]{width:%?60?%;height:%?60?%;border-radius:50%;margin-right:%?20?%}.article-detail .comments-section .comment-item .comment-info[data-v-31516b03]{flex:1;flex:1;display:flex;flex-direction:column}.article-detail .comments-section .comment-item .comment-info .comment-author[data-v-31516b03]{font-size:%?28?%;color:#adadad;margin-bottom:%?10?%}.article-detail .comments-section .comment-item .comment-info .comment-text[data-v-31516b03]{font-size:%?28?%;margin-bottom:%?10?%}.article-detail .comments-section .comment-item .comment-info .comment-time[data-v-31516b03]{font-size:%?24?%;color:#adadad}.article-detail .footer[data-v-31516b03]{border-top:1px solid #eee;padding:%?20?%;position:fixed;bottom:0;left:0;right:0;background-color:#fff;z-index:999}.article-detail .comment-input-container[data-v-31516b03]{height:%?50?%;width:100%;display:flex;justify-content:space-between;align-items:center;padding-bottom:%?26?%}.article-detail .comment-input[data-v-31516b03]{width:30%;height:%?60?%;font-size:%?22?%;border-radius:15px;padding:0 %?20?%;border:%?2?% solid #ddd}.article-detail .interaction[data-v-31516b03]{display:flex;align-items:center;justify-content:space-between;gap:%?14?%;width:60%;padding:0 %?20?%}.article-detail .interaction .interaction-item[data-v-31516b03]{display:flex;align-items:center;justify-content:flex-start}.article-detail .interaction .interaction-item uni-text[data-v-31516b03]{margin-left:5px;font-size:%?28?%}',""]),t.exports=i},bf79:function(t,i,e){var a=e("9666");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("967d").default;n("7a2f3153",a,!0,{sourceMap:!1,shadowMode:!1})},c3e8:function(t,i,e){"use strict";var a=e("bf79"),n=e.n(a);n.a}}]);